<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tabata Duo Timer â€” Dual Panels (Always Side-by-Side)</title>
<style>
  :root {
    --bg: #0b0c0f; --border: #232735; --panel: #14161c;
    --work: #1abc9c; --rest: #e67e22; --muted: #8a93a5;
  }
  * { box-sizing: border-box; }
  body {
    margin: 0; padding: 0; height: 100vh;
    font-family: system-ui, sans-serif;
    background: #0b0c0f; color: #e8ecf1;
    display: flex; flex-direction: row;
  }
  .half {
    flex: 1; display: flex; flex-direction: column; align-items: center;
    justify-content: space-between; border-left: 1px solid var(--border);
    padding: 20px; overflow: hidden;
  }
  .half:first-child { border-left: none; }
  h2 { margin: 0 0 10px; font-size: 1.4rem; }
  .timer-box {
    width: 100%; flex: 1; display: flex; flex-direction: row;
    justify-content: center; align-items: center; gap: 20px;
  }
  .pillar {
    flex: 0 0 60px; height: 70vh; background: #0e1118;
    border-radius: 20px; position: relative; overflow: hidden;
  }
  .mask.work { background: linear-gradient(180deg, var(--work) 0%, rgba(26,188,156,.3) 100%); }
  .mask.rest { background: linear-gradient(180deg, var(--rest) 0%, rgba(230,126,34,.3) 100%); }
  .mask { position: absolute; inset: 0; opacity: 0.6; }
  .fill { position: absolute; bottom: 0; left: 0; right: 0; height: 0%; background: rgba(255,255,255,.2); }
  .display { text-align: center; }
  .time { font-size: 3rem; font-weight: 700; }
  .phase { font-size: 1rem; color: var(--muted); margin-top: .4rem; }
  .controls { display: flex; gap: 8px; flex-wrap: wrap; justify-content: center; }
  button { border: none; border-radius: 8px; padding: 10px 16px; font-weight: bold; cursor: pointer; }
  .start { background: var(--work); color: #000; }
  .pause { background: var(--rest); color: #000; }
  .reset { background: #ff4d4f; color: #000; }
  /* Force two columns at all widths */
  .grid-2{grid-template-columns:1fr 1fr !important}
</style>
</head>
<body>
  <div class="half" id="left">
    <h2>Left Timer</h2>
    <div class="timer-box">
      <div class="pillar">
        <div class="mask work"></div>
        <div class="fill" id="fillL"></div>
      </div>
      <div class="display">
        <div class="time" id="timeL">00:20</div>
        <div class="phase" id="phaseL">WORK</div>
      </div>
    </div>
    <div class="controls">
      <button class="start" onclick="startTimer('L')">Start</button>
      <button class="pause" onclick="pauseTimer('L')">Pause</button>
      <button class="reset" onclick="resetTimer('L')">Reset</button>
    </div>
  </div>
  <div class="half" id="right">
    <h2>Right Timer</h2>
    <div class="timer-box">
      <div class="pillar">
        <div class="mask rest"></div>
        <div class="fill" id="fillR"></div>
      </div>
      <div class="display">
        <div class="time" id="timeR">00:10</div>
        <div class="phase" id="phaseR">REST</div>
      </div>
    </div>
    <div class="controls">
      <button class="start" onclick="startTimer('R')">Start</button>
      <button class="pause" onclick="pauseTimer('R')">Pause</button>
      <button class="reset" onclick="resetTimer('R')">Reset</button>
    </div>
  </div>
<script>
let timers = {
  L: {duration: 20, remaining: 20, running: false, id: null},
  R: {duration: 10, remaining: 10, running: false, id: null}
};
function updateDisplay(id) {
  const t = timers[id];
  const min = String(Math.floor(t.remaining/60)).padStart(2,'0');
  const sec = String(Math.floor(t.remaining%60)).padStart(2,'0');
  document.getElementById('time'+id).textContent = `${min}:${sec}`;
  document.getElementById('fill'+id).style.height = `${(1 - t.remaining / t.duration)*100}%`;
}
function tick(id){
  const t=timers[id];
  if(!t.running)return;
  t.remaining -= 0.1;
  if(t.remaining<=0){t.remaining=0;t.running=false;clearInterval(t.id);}
  updateDisplay(id);
}
function startTimer(id){
  const t=timers[id]; if(t.running) return;
  t.running=true; t.id=setInterval(()=>tick(id),100);
}
function pauseTimer(id){const t=timers[id];t.running=false;clearInterval(t.id);}
function resetTimer(id){const t=timers[id];t.remaining=t.duration;updateDisplay(id);pauseTimer(id);}
updateDisplay('L');updateDisplay('R');
</script>
</body>
</html>
